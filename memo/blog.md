# ブログをスマホで書くためのアイデア

hugo を使いつつ、スマホでいい感じに記事を書くやり方を考える。

## GitHub の issue をブログ記事に convert するやり方

素案

### 概要

- issue に何となく記事を書く
- issue を読み取って pull request を作る何かを動かす
  - issue を変更すると pull request が更新される
- マージしたら issue を閉じる
- reopen したら追い編集することもできる

### 補足

すでにある記事についてはいったん考えないことにする
- すでに書かれている記事から issue を作る機能があってもいいかもしれない

記事を消したいときはどうするか
- issue を消すのだと、すでに存在している記事だがまだ issue がないやつとの区別がつかない
- 消すためのアノテーションを書く。[deleted] みたいなやつ

下書き
- issue にしたけどまだ記事にしなくていいやつは Draft にする。[draft] ってつけておく
- pull request を作るところまではやってもいいかも。マージしてもいいかも。ただ記事のステータスを Draft にしておく必要はある。
- [draft] を外すとステータスが draft でないプルリクが出てくる

## 少し設計

pull request を作る部分について

- 記事にする issue なのかそうでないのかの判別が必要
  - [post] みたいなアノテーションをつけておく
- 誰でも issue は作れてしまうので、勝手に記事が増えないようにする必要はある (private にする？)
  - ブログ記事専用のリポジトリ (issue だけ増えていくような) があってもいいかも
- issue を読み取ったら一定の法則で pull request を作成する。
  - 文脈 (状態) 持たないようにするため、トピックブランチに対して常に force push する
- issue の状態が変わったら pull request を発行、あるいは更新する
  - issue の状態が変わるというのはつまり記事の更新、タイトルの更新
  - コメントを打ったときに更新してもいいかもしれないがまあいいか
  - cloud functions か何かでやれると便利そう (安いので)

issue template

- 最初は Draft をデフォルトにしておくため

## MVP

- issue を書いておく
- 手元で cli か何かを叩く
- pull request が作られる
- マージしたら記事が publish される ←これまだできてない気がする
  - この件は別件として対応

